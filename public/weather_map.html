<!DOCTYPE html>
<html>
    <head>
        <title>Weather Map API Ajax</title>
    </head>
    <body>

    	<h1>Open Weather Map : San Antonio</h1>

		<div>
			<table id="conditions">
			    <thead>
			        <tr>
			            <th>Humidity</th>
			        </tr>
			    </thead>
			     <tbody id="insertConditions"></tbody>
		    </table>
		</div>
		<div>
			<div>
				<hr>
			</div>
		</div>
		<div>
			<h1> Enter lat and long coordinates </h1>
			<h3> (Find coordinates by city name on latlong.net <a href="http://www.latlong.net/" target="_blank">here</a>)</h3>
			<form>
				<input id="myLat" placeholder="Latitude"></input>
				<input id="myLon" placeholder="Longitude"></input>
				<button type="button" id="submit">Send coordinates</button>
			</form>
			<div>
			<h3>Your weather</h3>
			<table id="queryWeather">
			    <thead>
			        <tr>
			            <th>Humidity</th>
			        </tr>
			    </thead>
			     <tbody id="insertQuery"></tbody>
		    </table>
		</div>


    	<!-- Google CDN jQuery-->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>

        <script>

        $(document).ready(function() {

	        $.get("http://api.openweathermap.org/data/2.5/weather?id=4726206", {
			    APPID: "f01ba26e28709c83c2854942b82017fe",
			    lat: 29.42412,
				lon: -98.493629,
			    units: "imperial"
			})
			.done(function(data) {
			    console.log(data);

			    
			    	$("#insertConditions").append("<tr><td>" + data.main.humidity + "</td></tr>");
			    

			});
		});
        </script>

        <script>
        "use strict";

        $(document).ready(function() {

        	var ajaxFunction = function () {

		        $.get("http://api.openweathermap.org/data/2.5/weather", {
				    APPID: "f01ba26e28709c83c2854942b82017fe",
				    lat: $("#myLat").val(),
					lon: $("#myLon").val(),
				    units: "imperial"
				})
				.done(function(data) {
				    console.log(data);

				    // data(function(element, index) {
				    	$("#insertQuery").append("<tr><td>" + data.main.humidity + "</td></tr>");
				    // });

				});

			}

			$("#submit").click(ajaxFunction);

		});
        </script>
    </body>
</html>